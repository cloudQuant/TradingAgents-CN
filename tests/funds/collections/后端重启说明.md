# åç«¯æœåŠ¡é‡å¯è¯´æ˜

## ğŸ› é—®é¢˜ç°è±¡

```
POST http://localhost:3000/api/funds/collections/fund_basic_info/refresh 404 (Not Found)
```

## ğŸ” åŸå› 

åç«¯ä»£ç å·²ä¿®æ”¹ï¼Œä½†åç«¯æœåŠ¡**æœªé‡å¯**ï¼Œæ–°çš„è·¯ç”±å’ŒåŠŸèƒ½æœªç”Ÿæ•ˆã€‚

---

## âœ… è§£å†³æ–¹æ³•

### æ–¹æ³•1: é‡å¯åç«¯æœåŠ¡ï¼ˆæ¨èï¼‰

1. **åœæ­¢å½“å‰åç«¯æœåŠ¡**
   - æ‰¾åˆ°è¿è¡Œåç«¯çš„ç»ˆç«¯çª—å£
   - æŒ‰ `Ctrl + C` åœæ­¢æœåŠ¡

2. **é‡æ–°å¯åŠ¨åç«¯**
   ```bash
   # åœ¨é¡¹ç›®æ ¹ç›®å½•
   python -m app.main
   
   # æˆ–è€…ä½¿ç”¨uvicorn
   uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
   ```

3. **éªŒè¯å¯åŠ¨æˆåŠŸ**
   - çœ‹åˆ°æ—¥å¿—ï¼š`Uvicorn running on http://0.0.0.0:8000`
   - è®¿é—®ï¼šhttp://localhost:8000/docs

---

### æ–¹æ³•2: ä½¿ç”¨çƒ­é‡è½½ï¼ˆå¦‚æœå·²é…ç½®ï¼‰

å¦‚æœåç«¯ä½¿ç”¨äº† `--reload` å‚æ•°å¯åŠ¨ï¼š

```bash
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000
```

åˆ™åº”è¯¥**è‡ªåŠ¨é‡è½½**ï¼Œä½†æœ‰æ—¶éœ€è¦æ‰‹åŠ¨è§¦å‘ï¼š
- ä¿å­˜ä»»æ„Pythonæ–‡ä»¶å³å¯è§¦å‘é‡è½½
- æˆ–è€…é‡å¯æœåŠ¡

---

## ğŸ§ª éªŒè¯æ­¥éª¤

### 1. æ£€æŸ¥åç«¯æ—¥å¿—

å¯åŠ¨ååº”è¯¥çœ‹åˆ°ï¼š
```
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [xxxxx] using StatReload
INFO:     Started server process [xxxxx]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
```

### 2. è®¿é—®APIæ–‡æ¡£

è®¿é—® http://localhost:8000/docs

æŸ¥æ‰¾ä»¥ä¸‹ç«¯ç‚¹ï¼š
- `POST /api/funds/collections/{collection_name}/refresh`
- åº”è¯¥èƒ½çœ‹åˆ° `fund_basic_info` ä½œä¸ºå¯ç”¨çš„collection_name

### 3. æµ‹è¯•API

åœ¨æµè§ˆå™¨æˆ–Postmanä¸­æµ‹è¯•ï¼š

**ç«¯ç‚¹**: `POST http://localhost:8000/api/funds/collections/fund_basic_info/refresh`

**Headers**:
```
Authorization: Bearer <your_token>
Content-Type: application/json
```

**é¢„æœŸå“åº”**:
```json
{
  "success": true,
  "data": {
    "task_id": "xxx-xxx-xxx",
    "message": "åˆ·æ–°ä»»åŠ¡å·²åˆ›å»º"
  }
}
```

---

## ğŸ“‹ å®Œæ•´é‡å¯æ­¥éª¤

### Windows PowerShell

1. **åœæ­¢åç«¯**
   ```powershell
   # å¦‚æœåœ¨è¿è¡Œä¸­çš„ç»ˆç«¯ï¼ŒæŒ‰ Ctrl+C
   # æˆ–è€…æ‰¾åˆ°Pythonè¿›ç¨‹å¹¶ç»ˆæ­¢
   Get-Process python | Stop-Process
   ```

2. **å¯åŠ¨åç«¯**
   ```powershell
   cd f:\source_code\TradingAgents-CN
   python -m app.main
   ```

### Linux/Mac Terminal

1. **åœæ­¢åç«¯**
   ```bash
   # åœ¨è¿è¡Œä¸­çš„ç»ˆç«¯æŒ‰ Ctrl+C
   # æˆ–è€…
   pkill -f "python -m app.main"
   ```

2. **å¯åŠ¨åç«¯**
   ```bash
   cd /path/to/TradingAgents-CN
   python -m app.main
   ```

---

## ğŸ”„ ä¿®æ”¹çš„æ–‡ä»¶æ¸…å•

éœ€è¦é‡å¯æ‰èƒ½ç”Ÿæ•ˆçš„ä¿®æ”¹ï¼š

1. **`app/services/fund_data_service.py`**
   - æ–°å¢ `save_fund_basic_info_data()`
   - æ–°å¢ `clear_fund_basic_info_data()`

2. **`app/services/fund_refresh_service.py`**
   - æ–°å¢ `_refresh_fund_basic_info()`
   - æ³¨å†Œ `fund_basic_info` å¤„ç†å™¨

3. **`app/routers/funds.py`**
   - æ›´æ–°æ¸…ç©ºç«¯ç‚¹æ”¯æŒ `fund_basic_info`

---

## âš ï¸ å¸¸è§é—®é¢˜

### Q1: é‡å¯åè¿˜æ˜¯404ï¼Ÿ

**æ£€æŸ¥**:
1. ç¡®è®¤åç«¯çœŸçš„é‡å¯äº†ï¼ˆæŸ¥çœ‹å¯åŠ¨æ—¶é—´ï¼‰
2. ç¡®è®¤ç«¯å£æ˜¯8000
3. ç¡®è®¤æ²¡æœ‰å…¶ä»–Pythonè¿›ç¨‹å ç”¨ç«¯å£
4. æŸ¥çœ‹åç«¯æ—¥å¿—æ˜¯å¦æœ‰é”™è¯¯

**è§£å†³**:
```bash
# ç¡®ä¿å®Œå…¨åœæ­¢
pkill -9 -f "python -m app.main"

# é‡æ–°å¯åŠ¨
python -m app.main
```

### Q2: å‰ç«¯è¿˜æ˜¯æŠ¥é”™ï¼Ÿ

**åˆ·æ–°å‰ç«¯**:
1. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜ï¼š`Ctrl + Shift + R`
2. æˆ–é‡å¯å‰ç«¯å¼€å‘æœåŠ¡å™¨

### Q3: æ‰¾ä¸åˆ°åˆ·æ–°ç«¯ç‚¹ï¼Ÿ

**æ£€æŸ¥å¯¼å…¥**:
ç¡®è®¤ `app/main.py` å·²å¯¼å…¥å¹¶æ³¨å†ŒåŸºé‡‘è·¯ç”±ï¼š
```python
from app.routers import funds as funds_router
app.include_router(funds_router.router)
```

### Q4: ä»»åŠ¡ç®¡ç†å™¨é”™è¯¯ï¼Ÿ

**æ£€æŸ¥ä¾èµ–**:
```bash
pip install motor pymongo asyncio
```

---

## âœ… éªŒè¯æˆåŠŸæ ‡å¿—

é‡å¯å¹¶éªŒè¯æˆåŠŸåï¼Œåº”è¯¥çœ‹åˆ°ï¼š

1. **åç«¯æ—¥å¿—**
   ```
   INFO: Started server process [xxxxx]
   INFO: Application startup complete.
   ```

2. **å‰ç«¯è¯·æ±‚æˆåŠŸ**
   ```
   âœ… APIå“åº”: 200 /api/funds/collections/fund_basic_info/refresh
   ```

3. **åŠŸèƒ½æ­£å¸¸**
   - ç‚¹å‡»"æ›´æ–°æ•°æ®"æˆåŠŸ
   - è¿›åº¦æ¡æ­£å¸¸æ˜¾ç¤º
   - æ•°æ®æˆåŠŸä¿å­˜

---

## ğŸ¯ å¿«é€Ÿå‘½ä»¤

**ä¸€é”®é‡å¯**ï¼ˆéœ€è¦å…ˆCtrl+Cåœæ­¢ï¼‰:
```bash
cd f:\source_code\TradingAgents-CN && python -m app.main
```

---

**é‡å¯å®Œæˆåå†è¯•ï¼** ğŸš€
