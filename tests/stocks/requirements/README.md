# 股票数据接口需求文档

## 概述

本目录包含**365个股票数据接口**的完整需求文档。

这些文档是参考 `tests/funds` 中基金数据集合的实现格式，自动生成的需求文档模板。

## 文档编号规则

- 文档编号从 `07_` 开始（因为 `01-06` 是核心需求文档，已单独创建）
- 每个文档对应一个AKShare接口
- 文档名称格式：`编号_接口功能描述.md`

## 核心需求文档（已完成）

这6个核心接口的需求文档位于上级目录：

1. `../02_个股信息查询-东财.md` - stock_individual_info_em
2. `../03_个股信息查询-雪球.md` - stock_individual_basic_info_xq
3. `../04_沪深京A股实时行情-东财.md` - stock_zh_a_spot_em
4. `../05_A股历史行情-东财.md` - stock_zh_a_hist
5. `../06_A股分时数据-东财.md` - stock_zh_a_hist_min_em

## 接口分类统计

根据功能分类，365个接口分布如下：

### 市场总貌与统计（8个）
- 上交所/深交所市场总貌
- 地区交易排序
- 行业成交统计
- 新高新低统计等

### 个股信息与基础数据（22个）
- 个股基本信息（东财、雪球、巨潮）
- 股票代码列表
- 公司概况
- 主营业务等

### 实时行情数据（23个）
- A股、B股、港股、美股实时行情
- 各板块实时行情（主板、创业板、科创板等）
- AB股比价
- 行情报价等

### 历史行情数据（15个）
- A股、B股、港股、美股历史行情
- 不同数据源（东财、新浪、腾讯）
- 板块历史行情等

### 分时数据（11个）
- 各市场分时数据
- 日内分时
- 盘前数据
- 筹码分布等

### 财务数据（50个）
- 三大报表（资产负债表、利润表、现金流量表）
- 按报告期/年度/季度
- 财务指标
- 业绩数据
- 估值指标等

### 股东数据（40个）
- 十大股东/十大流通股东
- 股东持股分析
- 股东变动统计
- 董监高持股
- 股权质押等

### 新股数据（20个）
- 新股发行
- 新股申购
- IPO审核
- 增发配股等

### 资金流向（20个）
- 个股/行业/概念资金流
- 主力资金
- 沪深港通资金流
- 大单追踪等

### 板块数据（17个）
- 概念板块
- 行业板块
- 板块成分股
- 板块资金流等

### 龙虎榜数据（15个）
- 龙虎榜详情
- 机构席位
- 营业部排行
- 个股上榜统计等

### 分红配股（10个）
- 历史分红
- 分红配送
- 分红派息等

### 大宗交易（7个）
- 每日明细
- 市场统计
- 活跃A股/营业部统计等

### 融资融券（7个）
- 融资融券汇总
- 融资融券明细
- 标的证券信息
- 两融账户信息等

### 公告与信息披露（10个）
- 沪深京A股公告
- 信息披露报告
- 科创板公告等

### 研究报告（5个）
- 个股研报
- 盈利预测
- 投资评级等

### 限售解禁（5个）
- 解禁批次
- 解禁股东
- 解禁详情等

### 停复牌（3个）
- 停复牌信息
- 暂停/终止上市等

### 股票回购（1个）
- 股票回购数据

### 行业分类（3个）
- 行业分类数据
- 行业归属变动
- 申万行业分类等

### 热度与人气（15个）
- 人气榜
- 关注排行
- 热搜股票
- 讨论排行等

### 涨停板相关（8个）
- 涨停股池
- 强势股池
- 炸板/跌停股池等

### 技术选股（7个）
- 持续放量/缩量
- 向上/下突破
- 量价齐升/跌
- 险资举牌等

### ESG评级（5个）
- ESG评级数据
- MSCI、路孚特、秩鼎、华证指数

### 估值指标（8个）
- A股/港股估值
- 市盈率、市净率
- 股息率
- 巴菲特指标等

### 其他特色数据（30+个）
- 商誉数据
- 重大合同
- 券商业绩
- 对外担保
- 公司诉讼
- 互动易
- 机构推荐等

## 使用说明

### 1. 查看需求文档

每个需求文档包含以下章节：

- **背景**：说明为什么需要这个数据集合
- **任务**：明确要实现的功能
- **步骤**：详细的实现步骤（包括前端和后端）
- **测试驱动**：测试用例要求
- **验收标准**：明确的验收条件
- **API接口详情**：
  - 接口名称
  - 目标地址
  - 描述
  - 限量说明
  - 输入参数
  - 输出参数
  - 接口示例
- **实现要点**：
  - 后端实现
  - 前端实现
  - 注意事项

### 2. 开发流程

对于每个接口，建议按以下流程开发：

1. **阅读需求文档**：了解接口功能和数据结构
2. **编写测试用例**：参考文档中的测试用例要求
3. **后端开发**：
   - 创建数据模型
   - 实现数据获取服务
   - 实现API端点
   - 实现文件导入/远程同步功能
4. **前端开发**：
   - 创建数据集合页面
   - 实现数据概览组件
   - 实现数据列表组件
   - 实现更新数据组件
   - 添加数据可视化
5. **测试验收**：
   - 运行自动化测试
   - 手动测试
   - 数据准确性验证

### 3. 优先级建议

建议按以下优先级开发（基于使用频率和重要性）：

**第一优先级**（核心数据，已完成）：
1. 个股信息查询-东财
2. 个股信息查询-雪球
3. 沪深京A股实时行情-东财
4. A股历史行情-东财
5. A股分时数据-东财

**第二优先级**（常用行情数据）：
- 各板块实时行情（创业板、科创板等）
- 其他数据源行情（新浪、腾讯）
- 港股、美股行情
- 板块数据

**第三优先级**（财务和基本面）：
- 财务报表
- 财务指标
- 业绩数据
- 股东数据

**第四优先级**（资金和交易）：
- 资金流向
- 龙虎榜
- 大宗交易
- 融资融券

**第五优先级**（其他数据）：
- 新股数据
- 公告信息
- 研究报告
- 特色数据

## 注意事项

1. **API限流**：
   - 所有接口都需要注意API调用频率
   - 建议每次请求间隔0.5-1秒
   - 批量更新时需要并发控制

2. **数据唯一标识**：
   - 实时行情：股票代码 + 日期
   - 历史行情：股票代码 + 日期
   - 分时数据：股票代码 + 时间
   - 其他数据根据具体情况确定

3. **数据更新策略**：
   - 实时数据：定时更新（如每分钟）
   - 历史数据：增量更新（每日收盘后）
   - 财务数据：按财报发布时间更新

4. **错误处理**：
   - 网络异常重试
   - API限流处理
   - 数据格式验证
   - 异常日志记录

5. **性能优化**：
   - 批量操作（bulk_write）
   - 数据库索引
   - 前端虚拟列表
   - 缓存策略

## 开发进度跟踪

可以使用以下方式跟踪开发进度：

```bash
# 统计已完成的接口数量
ls -1 ../collections/*.py | wc -l

# 查看某个分类的接口
grep "股东数据" interface_list.txt

# 搜索特定接口
grep "stock_zh_a_hist" *.md
```

## 相关文档

- `../01_股票数据集合文档.md` - 总览文档
- `../interface_list.txt` - 完整接口列表（按分类组织）
- `../_sources_data_stock_stock.md.txt.html` - AKShare原始文档

## 贡献指南

如需修改需求文档：

1. 直接编辑对应的markdown文件
2. 确保格式与现有文档一致
3. 更新相关的测试用例
4. 提交时说明修改原因

## 自动化工具

本目录包含以下自动化脚本：

- `../extract_interfaces.py` - 提取接口列表
- `../generate_requirement_docs.py` - 生成需求文档

重新生成文档：
```bash
python generate_requirement_docs.py
```

---

**文档生成时间**：2024-11-23  
**AKShare版本**：基于最新版本接口  
**总接口数**：365个
