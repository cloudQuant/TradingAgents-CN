### 背景
中债新综合指数是反映中国债券市场整体表现的重要指数。

### 任务

建立中债新综合指数数据集合，获取中债新综合指数的历史数据。

### 步骤
1. 数据集合：创建一个新的数据集合，名称为**中债新综合指数** (http://localhost:3000/bonds/collections/bond_new_composite_index_cbond)
2. 页面功能：数据概览、指数走势图、指标分析
3. 更新数据功能：
   - **按指标和期限查询**：选择指标和期限，获取历史数据
   - **增量更新**：只更新最近的数据
4. 数据唯一标识：以**指标、期限和日期**作为唯一标识

### 测试驱动
1. 测试用例文件：`tests/bonds/collections/33_bond_new_composite_index_cbond_collection.py`

### 验收标准
1. 测试用例能够全部通过
2. 支持多指标对比

### 获取数据的API接口、字段等

#### 中债新综合指数

**接口**: `bond_new_composite_index_cbond`

**目标地址**: https://yield.chinabond.com.cn/cbweb-mn/indices/single_index_query

**描述**: 中国债券信息网-中债指数-中债指数族系-总指数-综合类指数-中债-新综合指数

**输入参数**

| 名称        | 类型  | 描述                                                                                                                                                                                                       |
|-----------|-----|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| indicator | str | indicator="财富"; choice of {"全价", "净价", "财富", "平均市值法久期", "平均现金流法久期", "平均市值法凸性", "平均现金流法凸性", "平均现金流法到期收益率", "平均市值法到期收益率", "平均基点价值", "平均待偿期", "平均派息率", "指数上日总市值", "财富指数涨跌幅", "全价指数涨跌幅", "净价指数涨跌幅", "现券结算量"} |
| period    | str | period="总值"; choice of {"总值", "1年以下", "1-3年", "3-5年", "5-7年", "7-10年", "10年以上", "0-3个月", "3-6个月", "6-9个月", "9-12个月", "0-6个月", "6-12个月"}                                                                  |

**输出参数**

| 名称    | 类型      | 描述   |
|-------|---------|------|
| date  | object  | -    |
| value | float64 | 注意单位 |

**接口示例**

```python
import akshare as ak

bond_new_composite_index_cbond_df = ak.bond_new_composite_index_cbond(indicator="财富", period="总值")
print(bond_new_composite_index_cbond_df)
```

**数据示例**

```
            date     value
0     2002-01-04   99.9731
1     2002-01-07  100.0149
...
5444  2023-10-09  226.9609
[5445 rows x 2 columns]
```

### 实现要点

1. **后端实现**：
   - 实现多指标数据获取
   - 实现多期限数据获取
   - 实现增量更新

2. **前端实现**：
   - 指标选择器
   - 期限选择器
   - 指数走势图
   - 数据可视化：
     - 多指标对比图
     - 期限结构分析
     - 涨跌幅分析

3. **数据模型**：
   ```python
   {
       "指标": str,
       "期限": str,
       "日期": str,
       "数值": float,
       "更新时间": datetime
   }
   ```

4. **注意事项**：
   - 指标和期限组合较多
   - 数据量大，需要分页
   - 不同指标的单位不同

### 扩展功能（可选）

1. 多指标联动分析
2. 期限结构变化
3. 指数收益率计算
4. 与其他指数对比

---

## ✅ 实现状态

**状态**: ✅ 已完成后端实现 | **完成时间**: 2024-11-23 | **API**: `POST /api/bonds/zh-bond-new-index/refresh` | **完成率：33/34 = 97.06%** 🎉
