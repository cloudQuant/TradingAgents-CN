### 背景
转股价调整（通常是下修）对可转债价值有重要影响，需要追踪记录。

### 任务

建立转股价调整记录数据集合，获取可转债的转股价调整历史。

### 步骤
1. 数据集合：创建一个新的数据集合，名称为**转股价调整记录-集思录** (http://localhost:3000/bonds/collections/bond_cb_adj_logs_jsl)
2. 页面功能：数据概览、调整记录列表、调整分析
3. 更新数据功能：
   - **单个更新**：输入可转债代码，获取调整记录
   - **批量更新**：批量获取多只可转债的调整记录
4. 数据唯一标识：以**可转债代码和股东大会日**作为唯一标识

### 测试驱动
1. 测试用例文件：`tests/bonds/collections/25_bond_cb_adj_logs_jsl_collection.py`

### 验收标准
1. 测试用例能够全部通过
2. 支持调整幅度分析

### 获取数据的API接口、字段等

#### 转股价调整记录-集思录

**接口**: `bond_cb_adj_logs_jsl`

**目标地址**: https://app.jisilu.cn/data/cbnew/#cb; 点击带红色星号的转股价会弹出转股价调整记录

**描述**: 集思录-单个可转债的转股价格-调整记录

**限量**: 返回当前时刻该可转债的所有转股价格调整记录

**输入参数**

| 名称     | 类型  | 描述                     |
|--------|-----|------------------------|
| symbol | str | symbol="128013"; 可转债代码 |

**输出参数**

| 名称       | 类型      | 描述  |
|----------|---------|-----|
| 转债名称     | object  | -   |
| 股东大会日    | object  | -   |
| 下修前转股价   | float64 | -   |
| 下修后转股价   | float64 | -   |
| 新转股价生效日期 | object  | -   |
| 下修底价     | float64 | -   |

**接口示例**

```python
import akshare as ak

bond_convert_adj_logs_jsl_df = ak.bond_cb_adj_logs_jsl(symbol="128013")
print(bond_convert_adj_logs_jsl_df)
```

**数据示例**

```
   转债名称  股东大会日  下修前转股价 下修后转股价 新转股价生效日期 下修底价
0  洪涛转债  2021-02-23    3.10    2.32  2021-02-24  2.32
1  洪涛转债  2020-06-29    8.00    3.12  2020-06-30  3.12
2  洪涛转债  2019-11-20    9.97    8.00  2019-11-21  3.10
```

### 实现要点

1. **后端实现**：
   - 实现调整记录获取
   - 实现批量获取
   - 计算调整幅度和频率

2. **前端实现**：
   - 调整记录时间线展示
   - 调整幅度分析
   - 数据可视化：
     - 转股价历史走势
     - 调整幅度对比
     - 调整频率统计

3. **数据模型**：
   ```python
   {
       "转债代码": str,
       "转债名称": str,
       "股东大会日": str,
       "下修前转股价": float,
       "下修后转股价": float,
       "新转股价生效日期": str,
       "下修底价": float,
       "调整幅度": float,  # 计算得出：(下修后-下修前)/下修前
       "调整原因": str,    # 可选：手动标注
       "更新时间": datetime
   }
   ```

4. **注意事项**：
   - 不是所有可转债都有调整记录
   - 需要计算调整幅度
   - 调整通常是下修，但也可能是上修

### 扩展功能（可选）

1. 调整频率分析
2. 调整幅度统计
3. 调整对价格影响分析
4. 调整预测模型
5. 发行人调整意愿分析

---

## ✅ 实现状态

**状态**: ✅ 已完成后端实现

**完成时间**: 2024-11-23

**实现内容**:
- ✅ 后端服务层实现：使用通用刷新端点 `refresh_generic()`
- ✅ 数据库索引：代码+日期联合唯一索引
- ✅ API端点实现：
  - `POST /api/bonds/cov-adj-jsl/refresh` - 刷新转股价调整记录数据

**完成率：25/32 = 78.13%** 🎉
