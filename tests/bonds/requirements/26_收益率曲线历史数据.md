### 背景
收益率曲线反映了不同期限债券的收益率水平，是债券定价和风险管理的重要工具。

### 任务

建立收益率曲线历史数据集合，获取中国债券市场的收益率曲线数据。

### 步骤
1. 数据集合：创建一个新的数据集合，名称为**收益率曲线历史数据** (http://localhost:3000/bonds/collections/bond_china_close_return)
2. 页面功能：数据概览、曲线图展示、期限结构分析
3. 更新数据功能：
   - **按日期查询**：输入日期和债券类型，获取收益率曲线
   - **批量更新**：批量获取多个日期的数据
   - **债券类型选择**：支持多种债券类型
4. 数据唯一标识：以**债券类型、日期和期限**作为唯一标识

### 测试驱动
1. 测试用例文件：`tests/bonds/collections/26_bond_china_close_return_collection.py`

### 验收标准
1. 测试用例能够全部通过
2. 支持收益率曲线图展示

### 获取数据的API接口、字段等

#### 收益率曲线历史数据

**接口**: `bond_china_close_return`

**目标地址**: https://www.chinamoney.com.cn/chinese/bkcurvclosedyhis/?bondType=CYCC000&reference=1

**描述**: 收盘收益率曲线历史数据, 该接口只能获取近 3 个月的数据，且每次获取的数据不超过 1 个月

**输入参数**

| 名称         | 类型  | 描述                                                                       |
|------------|-----|--------------------------------------------------------------------------|
| symbol     | str | symbol="政策性金融债(进出口行)"; 通过网页查询或调用 **ak.bond_china_close_return_map()** 获取 |
| period     | str | period: str = "1"; 期限间隔, choice of {'0.1', '0.5', '1'}                   |
| start_date | str | start_date="20231101"; 结束日期, 结束日期和开始日期不要超过 1 个月                          |
| end_date   | str | end_date="20231101"; 结束日期, 结束日期和开始日期不要超过 1 个月                            |

**输出参数**

| 名称    | 类型      | 描述  |
|-------|---------|-----|
| 日期    | object  | -   |
| 期限    | float64 | -   |
| 到期收益率 | float64 | -   |
| 即期收益率 | float64 | -   |
| 远期收益率 | float64 | -   |

**接口示例**

```python
import akshare as ak

bond_china_close_return_df = ak.bond_china_close_return(symbol="国债", period="1", start_date="20231101", end_date="20231101")
print(bond_china_close_return_df)
```

**数据示例**

```
       日期       期限   到期收益率 即期收益率  远期收益率
0   2023-11-01   0.083  1.7031  1.7031     NaN
1   2023-11-01   0.250  2.3102  2.3102     NaN
...
14  2023-11-01  11.000  2.7115  2.7252  3.0458
```

### 实现要点

1. **后端实现**：
   - 实现收益率曲线数据获取
   - 实现债券类型参数获取
   - 实现日期范围控制（不超过1个月）
   - 实现期限间隔选择

2. **前端实现**：
   - 债券类型选择器
   - 日期范围选择器
   - 期限间隔选择器
   - 数据可视化：
     - 收益率曲线图（多条线对比）
     - 期限结构分析
     - 曲线形态变化
     - 利差分析

3. **数据模型**：
   ```python
   {
       "债券类型": str,
       "日期": str,
       "期限": float,
       "到期收益率": float,
       "即期收益率": float,
       "远期收益率": float,
       "期限间隔": str,
       "更新时间": datetime
   }
   ```

4. **注意事项**：
   - 只能获取近3个月的数据
   - 每次查询日期范围不超过1个月
   - 需要先获取债券类型列表
   - 远期收益率可能为空

### 扩展功能（可选）

1. 收益率曲线形态分析（陡峪化、平坦化）
2. 期限利差计算
3. 曲线拟合和插值
4. 历史曲线对比
5. 曲线预测模型

---

## ✅ 实现状态

**状态**: ✅ 已完成后端实现 | **完成时间**: 2024-11-23 | **API**: `POST /api/bonds/yield-curve-hist/refresh` | **完成率：26/32 = 81.25%** 🎉
