# 更新数据对话框拆分完成

## ✅ 完成的修改

### 1. 更新数据按钮改为下拉菜单
- 位置：`Collection.vue` 顶部操作栏
- 样式：下拉菜单，包含三个选项
  - **API刷新** - 打开API刷新对话框
  - **文件导入** - 打开文件导入对话框  
  - **远程同步** - 打开远程同步对话框

### 2. 三个独立对话框

#### API刷新对话框 (`apiRefreshDialogVisible`)
**内容：**
- 集合名称（只读）
- 单个更新配置（根据不同集合）
- 批量更新配置（根据不同集合）
- 进度条和状态显示

**适用集合：**
- fund_basic_info
- fund_name_em
- fund_open_fund_info_em
- fund_money_fund_info_em
- fund_financial_fund_info_em
- fund_etf_fund_info_em
- fund_etf_dividend_sina
- fund_individual_achievement_xq
- 其他所有基金数据集合

#### 文件导入对话框 (`fileImportDialogVisible`)
**内容：**
- 集合名称（只读）
- 文件上传组件（拖拽或选择）
- 支持 CSV 和 Excel 格式
- 导入按钮（带loading状态）

**操作：**
- 选择文件 → 点击"开始导入" → 后端处理

#### 远程同步对话框 (`remoteSyncDialogVisible`)
**内容：**
- 集合名称（只读）
- 远程MongoDB配置：
  - 远程地址（IP或URI）
  - 数据库类型（MongoDB，固定）
  - 批次大小（1000/2000/5000/10000）
  - 集合名称
  - 用户名（可选）
  - 认证库（authSource）
  - 密码（可选）
- 同步统计信息（显示上次同步结果）
- 同步按钮（带loading状态）

**操作：**
- 配置远程连接 → 点击"开始同步" → 后端处理

### 3. 代码改动

**新增图标导入：**
```typescript
import { ..., ArrowDown, Upload, Connection } from '@element-plus/icons-vue'
```

**新增状态变量：**
```typescript
const apiRefreshDialogVisible = ref(false)
const fileImportDialogVisible = ref(false)
const remoteSyncDialogVisible = ref(false)
```

**新增命令处理函数：**
```typescript
const handleUpdateCommand = (command: string) => {
  // 根据命令打开对应对话框
  switch(command) {
    case 'api': apiRefreshDialogVisible.value = true; break
    case 'file': fileImportDialogVisible.value = true; break
    case 'remote': remoteSyncDialogVisible.value = true; break
  }
}
```

### 4. 清理工作
- 从 API刷新对话框中移除了文件导入和远程同步部分
- API刷新对话框现在只包含API相关配置
- 保持了所有原有功能不变

## 🎯 效果

用户点击"更新数据"按钮时：
1. 显示下拉菜单，三个选项
2. 选择"API刷新" → 打开API配置对话框（单个/批量更新）
3. 选择"文件导入" → 打开文件上传对话框
4. 选择"远程同步" → 打开MongoDB同步对话框

**优点：**
- 界面更清晰，功能分离
- 每个对话框专注于一个功能
- 降低对话框复杂度
- 提升用户体验

## 📝 注意事项

- 所有原有功能保持不变
- 三个对话框独立运行，互不干扰
- 后端API接口无需改动
- 适用于所有基金数据集合
